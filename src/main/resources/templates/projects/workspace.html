<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{base :: head(pageTitle='Рабочая область')}"></head>
<body>
<div th:replace="~{base :: bodyBlock(bodyTitle='Рабочая область', bodyContent=~{:: content})}"></div>
<div th:remove="all">
  <div th:fragment="content">
    <input id="workspaceGetAllTables" type="hidden" th:value="@{/projects/edit/{ownerUsername}/{projectName}/get/all/(ownerUsername=${ownerUsername}, projectName=${projectName})}">

    <div class="row">
      <div class="cell">
        <a class="btn-action" th:href="@{/projects/details/my/{projectName}/(projectName=${projectName})}">
          <img th:src="@{/img/editing/back.png}" class="icon">
          <text>Назад</text>
        </a>
      </div>
    </div>
    <br>
    <div class="workspace" id="workspace">
      <div id="workspaceContent"></div>

      <ul class="workspace-menu" id="workspaceMenu">
        <h3 class="header-m-o">Меню</h3>
        <button class="btn-action-on-1" id="workspaceAddTableButton">
          <img th:src="@{/img/editing/add.png}" class="icon">
          <text>Новая сущность</text>
        </button>
        <button class="btn-action-on-1" id="workspaceConnectTablesButton">
          <img th:src="@{/img/constraints/reference.png}" class="icon">
          <text>Связать сущности</text>
        </button>
      </ul>

      <dialog class="container-1 dialog" id="workspaceAddTableDialog">
        <form method="dialog" th:object="${formCreateTable}" th:action="@{/projects/edit/{ownerUsername}/{projectName}/add/table/(ownerUsername=${ownerUsername}, projectName=${projectName})}">
          <div th:replace="~{fragments/forms :: csrfToken}"></div>

          <h3 class="header-m-o">Новая сущность</h3>
          <table>
            <input name="position_x" type="hidden">
            <input name="position_y" type="hidden">
            <div th:replace="~{fragments/forms :: rowText(fieldLabel='Название', fieldName='name', level=1, required=true, icon=@{/img/field_types/str.png})}"></div>
            <div th:replace="~{fragments/forms :: rowText(fieldLabel='Дружелюбное название', fieldName='friendlyName', level=1, helpText=
                    'Отображается вместо рабочего названия', icon=@{/img/field_types/str.png})}"></div>
            <div th:replace="~{fragments/forms :: colText(fieldLabel='Описание', fieldName='description', level=1, icon=@{/img/field_types/text.png})}"></div>
          </table>
          <div class="row btn-center">
            <button class="btn-action-on-1 cell">Отмена</button>
            <input class="btn-action-on-1 cell" type="submit" id="workspaceAddTableButtonSubmit" value="Создать">
          </div>
        </form>
      </dialog>

      <dialog class="container-1 dialog" id="workspaceConnectTablesDialog">
        <form method="dialog">
          <h3 class="header-m-o">Связать сущности</h3>
          <button class="btn-action-on-1">Отмена</button>
        </form>
      </dialog>

    </div>
  </div>
</div>
</body>
</html>