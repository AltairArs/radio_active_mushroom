<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{base :: head(page_title='Мои проекты')}"></head>
<body>
<div th:replace="~{base :: body_block(body_title='Мои проекты', body_content=~{:: content})}"></div>
<div th:remove="all">
    <div th:fragment="content">
        <div class="row">
            <div class="cell">
                <a th:href="@{/projects/create/}" class="btn-action">
                    <img th:src="@{/img/editing/add.png/}" class="icon">
                    <text>Новый проект</text>
                </a>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="container-1 cell">
                <h3>Мои проекты</h3>
                <div class="row">
                    <div class="container-2 cell" th:each="project : ${projects_as_owner}">
                        <h4 th:text="${project.getProjectName()}"></h4>
                        <table>
                            <tr>
                                <td>Кол-во участников</td>
                                <td class="info-field-2" th:text="${project.getMembers().size() + 1}"></td>
                            </tr>
                            <tr>
                                <td>Создан</td>
                                <td class="info-field-2" th:text="${#temporals.format(project.getCreated_at(), 'dd MM yyyy HH:mm')}"></td>
                            </tr>
                            <tr>
                                <td>Последнее обновление</td>
                                <td class="info-field-2" th:text="${#temporals.format(project.getLast_update(), 'dd MM yyyy HH:mm')}"></td>
                            </tr>
                            <tr><td colspan="2">Описание</td></tr>
                            <tr><td colspan="2" class="info-field-2" th:text="${project.getDescription()}"></td></tr>
                        </table>
                        <br>
                        <a class="btn-action" th:href="@{/projects/details/my/{project_name}/(project_name=${project.getName()})}">Подробнее</a>
                        <br>
                        <br>
                    </div>
                </div>
            </div>
            <div class="container-1 cell">
                <h3>Проекты с моим участием</h3>
                <div class="row">
                    <div class="container-2 cell" th:each="project : ${projects_as_member}">
                        <h4 th:text="${project.getProjectName()}"></h4>
                        <table>
                            <tr>
                                <td>Владелец</td>
                                <td class="info-field-2" th:text="${project.getOwner().getUsername()}"></td>
                            </tr>
                            <tr>
                                <td>Кол-во участников</td>
                                <td class="info-field-2" th:text="${project.getMembers().size() + 1}"></td>
                            </tr>
                            <tr>
                                <td>Создан</td>
                                <td class="info-field-2" th:text="${#temporals.format(project.getCreated_at(), 'dd MM yyyy HH:mm')}"></td>
                            </tr>
                            <tr>
                                <td>Последнее обновление</td>
                                <td class="info-field-2" th:text="${#temporals.format(project.getLast_update(), 'dd MM yyyy HH:mm')}"></td>
                            </tr>
                            <tr><td colspan="2">Описание</td></tr>
                            <tr><td colspan="2" class="info-field-2" th:text="${project.getDescription()}"></td></tr>
                        </table>
                        <br>
                        <a class="btn-action">Подробнее</a>
                        <br>
                        <br>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>