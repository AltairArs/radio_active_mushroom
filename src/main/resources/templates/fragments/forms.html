<!--
  submit_value: String
  level: int
-->
<tr th:fragment="form_buttons">
  <td class="btn-center"><input type="submit" th:value="${submit_value}" th:classappend="${level} == 1 ? 'btn-action-on-1' : 'btn-action'"></td>
  <td class="btn-center"><input type="reset" value="Очистить" th:classappend="${level} == 1 ? 'btn-action-on-1' : 'btn-action'"></td>
</tr>
<!--
  field_name: String
  field_label: String
-->
<th:block th:fragment="row_text">
  <tr>
    <td th:text="${field_label}"></td>
    <td><input th:field="*{__${field_name}__}" type="text" th:placeholder="${field_label}"></td>
  </tr>
  <tr><td colspan="2" th:classappend="${level} == 1 ? 'error-on-1' : 'error-on-2'" th:if="${#fields.hasErrors(field_name)}" th:errors="*{__${field_name}__}"></td></tr>
</th:block>

<th:block th:fragment="row_pswd">
  <tr>
    <td th:text="${field_label}"></td>
    <td><input th:field="*{__${field_name}__}" type="password" th:placeholder="${field_label}"></td>
  </tr>
  <tr><td colspan="2" th:classappend="${level} == 1 ? 'error-on-1' : 'error-on-2'" th:if="${#fields.hasErrors(field_name)}" th:errors="*{__${field_name}__}"></td></tr>
</th:block>

<th:block th:fragment="row_select">
  <tr>
    <td th:text="${field_label}"></td>
    <td><select th:field="*{__${field_name}__}">
      <option th:each="option : ${options}" th:text="${option[1]}" th:value="${option[0]}"></option>
    </select></td>
  </tr>
  <tr><td colspan="2" th:classappend="${level} == 1 ? 'error-on-1' : 'error-on-2'" th:if="${#fields.hasErrors(field_name)}" th:errors="*{__${field_name}__}"></td></tr>
</th:block>
<!--

-->
<input th:fragment="csrf_token" type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
<!--
  form_action: Optional<String>
  submit_value: String
-->
<form method="post" th:fragment="button_form" th:action="${form_action}">
  <div th:replace="~{:: csrf_token}"></div>
  <input type="submit" th:value="${submit_value}" class="btn-action">
</form>
<!--
  level: int
-->
<tr th:if="${#fields.hasGlobalErrors()}" th:fragment="all_errors" th:each="err : ${#fields.globalErrors()}"><td colspan="2" th:text="${err}" th:classappend="${level} == 1 ? 'error-on-1' : 'error-on-2'"></td></tr>